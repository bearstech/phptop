phptop (c) 2009 Bearstech - http://bearstech.com/

phptop prints per query and average metrics comparable to 'time' (wallclock,
user and system CPU time) along with memory and other ressource usages.

It can be easily globally activated on a LAMP server and requires little
ressources and a single line configuration change in your php.ini.

Homepage, more documentation and updates:

  http://forge.bearstech.com/trac/wiki/PhpTop

Example usage:

  server:~# echo auto_prepend_file=/path/to/phptop_hook.php >/etc/php/php.ini
  server:~# apache2ctl reload

  (Wait at least a few minutes to collect data...)

  server:~# ./phptop -s mem
                                            Hit     Time     User      Sys  Mem/hit  Mem_max  Inc/hit  Inc_max
  http://blog.dummy.com/facebook/myapi/       5      0.8      0.5      0.1      6.2     31.0       20      100
  http://blog.dummy.com/feed                 10      1.0      0.8      0.1      6.0     30.2       18       94
  http://blog.dummy.com/feed/                10      1.2      1.0      0.0      6.0     30.2       19       96
  http://blog.dummy.com/tag/peekk/            5      0.6      0.5      0.0      6.2     30.8       19       99
  http://blog.dummy.com/2008/09/              5      0.9      0.6      0.1      6.2     31.0       19       99
  http://test.org/rss.xml                    10      0.6      0.5      0.1      5.2     25.8       27      135
  http://test.org/cron.php                    5      0.6      0.3      0.0      5.2     26.2       24      124
  http://test.org/                            5      4.3      0.2      0.1      5.3     26.5       27      135
  http://test.org/user/register               5      0.5      0.3      0.0      5.1     25.5       25      129
  http://test.org/page/welcome                5      0.7      0.2      0.1      5.0     25.0       25      125
  
  Total                                    1140     95.9     27.0      3.7
